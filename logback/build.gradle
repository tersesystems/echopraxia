plugins {
    id 'java-library'
}

dependencies {
    api project(":api")

    // I think we have to explicitly mark out logback-1.2, logback-1.3. and logback-1.4 or else
    // just not provide logback as a downstream dependency.
    //
    // https://zone84.tech/architecture/a-word-on-slf4j-and-spring-incompatibility/
    // Logback 1.2: supports Spring Boot 2.x and requires SLF4J 1.7.x
    // Logback 1.3: supports deprecated Java EE API and requires SLF4J 2.x (no spring boot 2.x support)
    // Logback 1.4: supports the new Jakarta EE API and requires SLF4J 2.x (no spring boot 2.x support)
    // https://docs.gradle.org/current/userguide/feature_variants.html
    //
    //    registerFeature('slf4j2') {
    //        usingSourceSet(sourceSets.main)
    //    }

    slf4j2Api("ch.qos.logback:logback-classic:$logbackVersion") {
        because("We require a logback implementation")
    }
    testImplementation(testFixtures(project(':api')))
}
